<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Bluice Short Url Service</title>
    <link rel="stylesheet" href="/static/main.css">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body id="app">
<div class="up">
    <div class="content">
        <h1>Bluice Short Url Service</h1>
        <div>
            <input id="full-url" class="in" type="text" placeholder="Input full URL here">
            <button class="sub" onclick="makeSU()">Make Short</button>
        </div>
    </div>
</div>
<div class="down">
    <p><b>Your Short URL: </b><a id="short-url" href="" target="_blank"></a></p>
</div>
<a class="github" href="https://github.com/bluicezhen/ShortURL" target="_blank">
    Power by <span class="fa fa-github" aria-hidden="true"></span> ShortURL
</a>
<script src="https://cdn.bootcss.com/axios/0.16.2/axios.min.js"></script>
<script>
    var makeSU = function () {
        axios.post('/', {
            'url': document.getElementById('full-url').value
        }).then(function (response) {
            var short_url = response.data.short_url;
            var e_p = document.getElementById('short-url');
            e_p.href = short_url;
            e_p.innerText = short_url;
            e_p.parentElement.style.display = 'block';
        }).catch(function (error) {
            console.log(error);
            alert('Error');
        });
    };
</script>
</body>
</html>
